type Course @model
@auth(rules: [
  {allow: groups, groups: ["Admin"]},
  {allow: groups, groups: ["Students","Teachers"], operations: [read] },
  ])
  {
  id: ID!
  name: String!
  scheduleDates: [Int]!
  scheduleStartTime: AWSTime!
  scheduleEndTime: AWSTime!
  virtualClassLink: String
  isActive: Boolean @default(value: "true")
  externalId: String!
  scheduleYear: Int!
}

input AMPLIFY {
  globalAuthRule: AuthRule = {allow: public}
}

enum MediaType {
  LINK,
  FILE
}

type Media @model
@auth(rules: [
  {allow: owner},
  {allow: groups, groups: ["Admin"], operations: [create, read, update, delete] },
  {allow: groups, groupsField: "groups", operations: [read] }
  ])
  {
  id: ID!
  title: String!
  type: MediaType!
  description: String
  link: String!
  content: String
  groups: [String!]!
  uploadedBy: String!
}

enum DisabledAccountReasons {
  DISABLED_BY_ADMIN,
  PAYMENT_NOT_COMPLETED
}

type User @model
@auth(rules: [
  {allow: groups, groups: ["Admin"], operations: [create, read, update, delete] },
  {allow: groups, groups: ["Students","Teachers"], operations: [read] },
  ])
  {
  id: ID!
  name: String!
  email: String!
  phone: String!
  cognitoId: ID!
  groups: [String!]!
  isDisabledUser: Boolean @default(value: "false")
  disabledReason: DisabledAccountReasons
} 